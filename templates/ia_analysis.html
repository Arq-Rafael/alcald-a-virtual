{% extends "base.html" %}

{% block styles %}
<style>
.analysis-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.analysis-header {
  text-align: center;
  margin-bottom: 3rem;
}

.analysis-header h2 {
  font-size: 2rem;
  font-weight: 700;
  color: #1b5e20;
  margin-bottom: 0.5rem;
}

.upload-zone {
  background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.88));
  backdrop-filter: blur(20px);
  border: 2px dashed #66bb6a;
  border-radius: 24px;
  padding: 3rem 2rem;
  text-align: center;
  transition: all 0.3s ease;
  margin-bottom: 2rem;
}

.upload-zone:hover {
  border-color: #4caf50;
  background: rgba(255,255,255,0.98);
  transform: scale(1.02);
}

.upload-icon {
  font-size: 4rem;
  color: #66bb6a;
  margin-bottom: 1rem;
}

.btn-analyze {
  background: linear-gradient(135deg, #66bb6a, #81c784);
  color: white;
  border: none;
  padding: 0.875rem 2.5rem;
  border-radius: 14px;
  font-weight: 700;
  box-shadow: 0 8px 24px rgba(102, 187, 106, 0.3);
  transition: all 0.3s ease;
}

.btn-analyze:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 32px rgba(102, 187, 106, 0.4);
  color: white;
}

.results-panel {
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 2rem;
  box-shadow: 0 12px 40px rgba(0,0,0,0.08);
}
</style>
{% endblock %}

{% block content %}
<div class="analysis-container">
  <div class="analysis-header">
    <h2><i class="bi bi-graph-up-arrow"></i> Análisis Inteligente de Documentos</h2>
    <p class="text-muted">Extrae datos clave y estadísticas automáticamente</p>
  </div>

  <div class="upload-zone">
    <div class="upload-icon">
      <i class="bi bi-cloud-upload-fill"></i>
    </div>
    <h5>Arrastra tus documentos aquí</h5>
    <p class="text-muted mb-3">O haz clic para seleccionar archivos (PDF, Word, Excel)</p>
    
    <form method="POST" enctype="multipart/form-data">
      <input type="file" name="document" class="form-control mb-3" accept=".pdf,.doc,.docx,.xlsx" style="max-width: 400px; margin: 0 auto;">
      <button type="submit" class="btn btn-analyze">
        <i class="bi bi-cpu-fill"></i> Analizar Documento
      </button>
    </form>
  </div>

  {% if results %}
  <div class="results-panel">
    <h4 class="mb-3"><i class="bi bi-check-circle-fill text-success"></i> Análisis Completado</h4>
    <div class="alert alert-success">
      El documento ha sido procesado exitosamente. Los resultados están listos.
    </div>
    <!-- Aquí irían los resultados del análisis -->
  </div>
  {% endif %}

  <div class="mt-4 text-center">
    <a href="{{ url_for('ia.index') }}" class="btn btn-outline-secondary">
      <i class="bi bi-arrow-left"></i> Volver a IA Municipal
    </a>
  </div>
</div>
{% endblock %}
